(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{icn8:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var n=l(a("BMrR"));a("jCWc");var d=l(a("kPKH"));a("IzEo");var u=l(a("bx4M"));a("+L6B");var c=l(a("2/Rp"));a("g9YV");var o=l(a("wCAj")),i=l(a("lwsE")),s=l(a("W8MJ")),f=l(a("a1gu")),m=l(a("Nsbk")),E=l(a("7W2i"));a("2qtc");var p,b,h=l(a("kLXV")),v=r(a("q1tI")),y=a("MuoO"),g=l(a("v99g")),S=l(a("nmkP")),R=l(a("vcQ2")),w=a("uI15"),I=h.default.confirm,C=(p=(0,y.connect)(function(e){var t=e.login,a=e.dataRecord;return{login:t,dataRecord:a}}),p(b=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,f.default)(this,(0,m.default)(t).call(this,e)),a.subscribeReqFormRef=v.default.createRef(),a.state={visible:!1,editSubscribeReq:null,fetchSubscribeReqsLoading:!1},a}return(0,E.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this.fetchSubscribeReqs()}},{key:"handleSubscribeReqEditModalOK",value:function(){var e=this.props,t=e.dispatch,a=e.login,l=this;this.subscribeReqFormRef.current.validateFieldsAndScroll(function(e,r){if(null==e||void 0===e.symbol&&void 0===e.exchange&&void 0===e.productClass&&void 0===e.gatewayID){var n={token:a.token,symbol:r.symbol,exchange:r.exchange,rtSymbol:"".concat(r.symbol,".").concat(r.exchange),productClass:r.productClass,gatewayID:r.gatewayID};t({type:"dataRecord/savaOrUpdateSubscribeReq",payload:n}),(0,w.sleep)(200).then(function(){l.setState({visible:!1}),l.fetchSubscribeReqs()})}})}},{key:"handleSubscribeReqEditModalCancel",value:function(){this.setState({visible:!1})}},{key:"deleteSubscribeReq",value:function(e){var t=this.props,a=t.dispatch,l=t.login,r=this;I({title:"\u786e\u5b9a\u8981\u5220\u9664\u8fd9\u4e2a\u8bb0\u5f55\u5417?",content:e.id,onOk:function(){a({type:"dataRecord/deleteSubscribeReq",payload:{token:l.token,subscribeReqID:e.id}}),(0,w.sleep)(100).then(function(){r.setState({visible:!1}),r.fetchSubscribeReqs()})},onCancel:function(){}})}},{key:"saveOrUpdateSubscribeReq",value:function(e){this.setState({visible:!0,editSubscribeReq:e})}},{key:"fetchSubscribeReqs",value:function(){var e=this.props,t=e.dispatch,a=e.login;t({type:"dataRecord/fetchSubscribeReqs",payload:{token:a.token}})}},{key:"render",value:function(){var e=this,t=this.props.dataRecord,a=this.state,l=a.visible,r=a.editSubscribeReq,i=a.fetchSubscribeReqsLoading,s={xs:{span:24},sm:{span:24},md:{span:22,offset:1},lg:{span:20,offset:2}},f=o.default.Column;return v.default.createElement(g.default,{className:S.default.userCenter},v.default.createElement(n.default,{gutter:24},v.default.createElement(d.default,s,v.default.createElement(u.default,null,v.default.createElement(c.default,{type:"primary",icon:"plus",onClick:function(){return e.saveOrUpdateSubscribeReq()}},"\u65b0\u589e"),v.default.createElement(c.default,{style:{marginLeft:10},type:"primary",icon:"reload",loading:i,onClick:function(){return e.fetchSubscribeReqs()}},"\u5237\u65b0"),v.default.createElement(o.default,{dataSource:t.subscribeReqs,scroll:{x:1e3},pagination:!1,rowKey:function(){return(0,w.uuidv4)()}},v.default.createElement(f,{title:"ID",dataIndex:"id",key:"id",width:180}),v.default.createElement(f,{title:"RT\u5408\u7ea6\u4ee3\u7801",dataIndex:"rtSymbol",key:"rtSymbol",width:135}),v.default.createElement(f,{title:"\u5408\u7ea6\u4ee3\u7801",dataIndex:"symbol",key:"symbol",width:135}),v.default.createElement(f,{title:"\u4ea4\u6613\u6240",dataIndex:"exchange",key:"exchange",width:135}),v.default.createElement(f,{title:"\u4ea7\u54c1\u7c7b\u578b",dataIndex:"productClass",key:"productClass",width:135}),v.default.createElement(f,{title:"\u7f51\u5173ID",dataIndex:"gatewayID",key:"gatewayID",width:180}),v.default.createElement(f,{title:"\u64cd\u4f5c",key:"action",width:100,render:function(t,a){return v.default.createElement("span",null,v.default.createElement("a",{href:"",onClick:function(t){t.preventDefault(),e.deleteSubscribeReq(a)}},"\u5220\u9664"))}}))),l&&v.default.createElement(h.default,{title:"\u65b0\u589e",visible:l,onOk:function(){return e.handleSubscribeReqEditModalOK()},onCancel:function(){return e.handleSubscribeReqEditModalCancel()},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},v.default.createElement(R.default,{editSubscribeReq:r,ref:this.subscribeReqFormRef})))))}}]),t}(v.PureComponent))||b),k=C;t.default=k},nmkP:function(e,t,a){e.exports={tagsTitle:"antd-pro\\pages\\-data-record\\-data-record-board-tagsTitle",teamTitle:"antd-pro\\pages\\-data-record\\-data-record-board-teamTitle",tags:"antd-pro\\pages\\-data-record\\-data-record-board-tags",team:"antd-pro\\pages\\-data-record\\-data-record-board-team",tabsCard:"antd-pro\\pages\\-data-record\\-data-record-board-tabsCard",formItem:"antd-pro\\pages\\-data-record\\-data-record-board-formItem"}},vcQ2:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var n=l(a("bx4M"));a("5NDa");var d=l(a("5rEg")),u=l(a("lwsE")),c=l(a("W8MJ")),o=l(a("a1gu")),i=l(a("Nsbk")),s=l(a("7W2i"));a("y8nQ");var f=l(a("Vl3Y"));a("OaEy");var m,E,p,b=l(a("2fM7")),h=r(a("q1tI")),v=a("MuoO"),y=l(a("nmkP")),g=b.default.Option,S=f.default.Item,R=(m=f.default.create(),E=(0,v.connect)(function(e){var t=e.login,a=e.dataRecord,l=e.gateway;return{login:t,dataRecord:a,gateway:l}}),m(p=E(p=function(e){function t(e){var a;return(0,u.default)(this,t),a=(0,o.default)(this,(0,i.default)(t).call(this,e)),a.resetForm=function(){var e=a.props.form;e.resetFields()},a.gatewayFormRef=h.default.createRef(),a}return(0,s.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.fetchGateways()}},{key:"fetchGateways",value:function(){var e=this.props,t=e.dispatch,a=e.login;t({type:"gateway/fetchGateways",payload:{token:a.token}})}},{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.editGateway,l=e.gateway,r="",u="",c="",o="",i="";null!==a&&void 0!==a&&(r=a.id,u=a.gatewayID,a.rtSymbol,c=a.symbol,o=a.exchange,i=a.productClass);var s=l.gateways,m=[];return s.forEach(function(e){m.push(h.default.createElement(g,{key:e.gatewayID,value:e.gatewayID},"\u7f51\u5173:[".concat(e.gatewayDisplayName,"] ID:[").concat(e.gatewayID,"]")))}),h.default.createElement(n.default,{bordered:!1,gutter:0},h.default.createElement(f.default,{hideRequiredMark:!0,gutter:0},h.default.createElement(S,{className:y.default.formItem,label:h.default.createElement("span",null,"ID")},t("id",{initialValue:r})(h.default.createElement(d.default,{disabled:!0,placeholder:"ID"}))),h.default.createElement(S,{className:y.default.formItem,label:h.default.createElement("span",null,"\u5408\u7ea6\u4ee3\u7801")},t("symbol",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5408\u7ea6\u4ee3\u7801"}],initialValue:c})(h.default.createElement(d.default,{placeholder:"\u5408\u7ea6\u4ee3\u7801"}))),h.default.createElement(S,{className:y.default.formItem,label:h.default.createElement("span",null,"\u4ea4\u6613\u6240")},t("exchange",{initialValue:o})(h.default.createElement(b.default,{onChange:this.handleExchangeChange,showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4ea4\u6613\u6240",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},h.default.createElement(g,{value:"SEHK"},"SEHK \u6e2f\u4ea4\u6240"),h.default.createElement(g,{value:"HKFE"},"HKFE \u9999\u6e2f\u671f\u8d27\u4ea4\u6613\u6240"),h.default.createElement(g,{value:"IDEALPRO"},"IDEALPRO IB\u5916\u6c47ECN"),h.default.createElement(g,{value:"SSE"},"SSE \u4e0a\u4ea4\u6240"),h.default.createElement(g,{value:"SZSE"},"SZSE \u6df1\u4ea4\u6240"),h.default.createElement(g,{value:"CFFEX"},"CFFEX \u4e2d\u91d1\u6240"),h.default.createElement(g,{value:"SHFE"},"SHFE \u4e0a\u671f\u6240"),h.default.createElement(g,{value:"CZCE"},"CZCE \u90d1\u5546\u6240"),h.default.createElement(g,{value:"DCE"},"DCE \u5927\u5546\u6240"),h.default.createElement(g,{value:"SGE"},"SGE \u4e0a\u91d1\u6240"),h.default.createElement(g,{value:"INE"},"INE \u56fd\u9645\u80fd\u6e90\u4ea4\u6613\u4e2d\u5fc3"),h.default.createElement(g,{value:"SMART"},"SMART IB\u667a\u80fd\u8def\u7531"),h.default.createElement(g,{value:"NYMEX"},"NYMEX IB\u671f\u8d27"),h.default.createElement(g,{value:"GLOBEX"},"GLOBEX CME\u7535\u5b50\u4ea4\u6613\u5e73\u53f0"),h.default.createElement(g,{value:"CME"},"CME \u829d\u5546\u6240"),h.default.createElement(g,{value:"ICE"},"ICE \u6d32\u9645\u4ea4\u6613\u6240"),h.default.createElement(g,{value:"LME"},"LME \u4f26\u6566\u91d1\u5c5e\u4ea4\u6613\u6240"),h.default.createElement(g,{value:"OANDA"},"OANDA \u5916\u6c47\u505a\u5e02\u5546"),h.default.createElement(g,{value:"FXCM"},"FXCM \u5916\u6c47\u505a\u5e02\u5546")))),h.default.createElement(S,{className:y.default.formItem,label:h.default.createElement("span",null,"\u4ea7\u54c1\u7c7b\u578b")},t("productClass",{initialValue:i})(h.default.createElement(b.default,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4ea7\u54c1\u7c7b\u578b",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},h.default.createElement(g,{value:"FUTURES"},"\u671f\u8d27"),h.default.createElement(g,{value:"FOREX"},"\u5916\u6c47"),h.default.createElement(g,{value:"EQUITY"},"\u80a1\u7968"),h.default.createElement(g,{value:"OPTION"},"\u671f\u6743"),h.default.createElement(g,{value:"SPOT"},"\u73b0\u8d27")))),h.default.createElement(S,{className:y.default.formItem,label:h.default.createElement("span",null,"\u7f51\u5173ID")},t("gatewayID",{initialValue:u})(h.default.createElement(b.default,{showSearch:!0,dropdownMatchSelectWidth:!1,placeholder:"\u7f51\u5173ID",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},m)))))}}]),t}(h.PureComponent))||p)||p),w=R;t.default=w}}]);